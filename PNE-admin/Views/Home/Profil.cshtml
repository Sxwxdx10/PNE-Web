@using NuGet.Protocol;

@{
    List<string> roles = Context.Session.GetString("userRoles").FromJson<List<string>>();
    string? userName = Context.Session.GetString("username");
}

<div class="container mt-4 fade-in">

    <div class="text-center mb-5">
        <h1 class="display-4">Mes accès</h1>
    </div>

    <!-- Badges des rôles -->
    <div class="card shadow mb-5 fade-in">
        <div class="card-header bg-dark text-white text-center">
            <h4 class="my-0">Vos rôles</h4>
        </div>
        <div class="card-body d-flex justify-content-center flex-wrap gap-3">
            <partial name="_RoleBadges" model="roles" />
        </div>
    </div>

    <!-- Liens selon rôles -->
    @if (roles.Contains("admin"))
    {
        <partial name="_AdminLinks" />
    }

    @if (roles.Contains("chercheur"))
    {
        <partial name="_ChercheurLinks" />
    }

    @if (roles.Contains("gerant"))
    {
        <partial name="_GerantLinks" />
    }

</div>
